# ドメイン層テスト

このディレクトリには、ドメイン層のテストが含まれています。ドメイン層はアプリケーションのビジネスロジックの中核となるため、特に重点的にテストする必要があります。

## テストファイル一覧

- `test_media.py` - メディアドメインモデル（MediaFile, MediaChunk, ExtractedImage）のテスト
- `test_minutes.py` - 議事録ドメインモデル（Minutes, MinutesContent, MinutesTask）のテスト
- `test_transcription.py` - 文字起こしドメインモデル（TranscriptionResult, TranscriptionSegment, Speaker）のテスト

## テスト対象

各テストファイルは、対応するドメインモデルの以下の側面をテストします：

1. **オブジェクト生成**: 各ドメインオブジェクトが正しく生成されるか
2. **ビジネスルール**: ドメインモデルに実装されたビジネスルールが正しく機能するか
3. **不変条件**: 値オブジェクトの不変性が保たれるか
4. **バリデーション**: 入力値の検証が適切に行われるか
5. **ドメインイベント**: ドメインイベントが適切に発行されるか（該当する場合）

## テスト設計原則

ドメイン層のテストでは、以下の原則に従います：

- **独立性**: 各テストは他のテストに依存せず、独立して実行できるようにします
- **完全性**: ドメインモデルの全ての機能と属性をテストします
- **境界値テスト**: 境界条件や極端なケースもテストします
- **不正入力テスト**: 不正な入力に対する振る舞いをテストします

## テスト実行方法

ドメイン層のテストは以下のコマンドで実行できます：

```bash
python -m unittest discover -s src/tests/domain
```

特定のテストファイルを実行する場合：

```bash
python -m unittest src/tests/domain/test_media.py
```