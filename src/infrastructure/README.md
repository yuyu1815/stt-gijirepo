# インフラストラクチャ層

このディレクトリには、アプリケーションの技術的な基盤となるコンポーネントが含まれています。インフラストラクチャ層は、外部システムとの連携、設定管理、ロギング、ファイル操作などの技術的な詳細を抽象化します。

## ファイル一覧

- `config.py` - 設定管理。アプリケーション全体の設定を読み込み、管理します。環境変数やJSONファイルからの設定読み込みをサポートします。
- `logger.py` - ロギング機能。アプリケーションのログ出力を一元管理し、適切なフォーマットとレベルでログを記録します。
- `storage.py` - ストレージ管理。ファイルの読み書き、ディレクトリ操作、一時ファイルの管理などを行います。

## 責任範囲

インフラストラクチャ層は以下の責任を持ちます：

- 外部システムとの連携（APIクライアント、データベース接続など）
- 技術的な詳細の抽象化（ファイルI/O、ネットワーク通信など）
- クロスカッティングコンサーン（ロギング、設定、キャッシュなど）の提供
- 永続化メカニズムの実装

## 使用方法

インフラストラクチャコンポーネントは、シングルトンパターンで実装されており、以下のようにインポートして使用します：

```python
from ..infrastructure.config import config_manager
from ..infrastructure.logger import logger
from ..infrastructure.storage import storage_manager

# 設定の取得
api_key = config_manager.get_api_key("gemini")

# ログ出力
logger.info("処理を開始します")

# ファイル操作
output_dir = storage_manager.get_output_dir("transcripts")
storage_manager.save_text("テキスト内容", output_dir / "output.txt")
```

## 設計原則

- 依存性逆転の原則：ドメイン層はインフラストラクチャ層に依存せず、インターフェースを通じて連携します
- 単一責任の原則：各コンポーネントは明確に定義された単一の責任を持ちます
- 関心の分離：技術的な詳細をビジネスロジックから分離します